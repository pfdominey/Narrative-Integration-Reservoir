# Narrative-Integration-Reservoir
This project contains python code for a model of narrative integration that allows simulation of human fMRI results

The experiments use multiple resources that should be installed:

The word embeddings are from Wikipedia2vec that should be installed
https://pypi.org/project/wikipedia2vec/
and the embeddings must be downloaded
http://wikipedia2vec.s3.amazonaws.com/models/en/2018-04-20/enwiki_20180420_100d.pkl.bz2

The reservoir model uses easyesn
https://pypi.org/project/easyesn/

We require a modification to the easyesn source code, so that the esn.precit returns the reservoir internal state trajectory

Just modify the last line of the predict function` and change it from
return Y.T to return Y.T, X

This is clearly explained at
https://github.com/kalekiu/easyesn/issues/12

The HMM segmenation model from Baldassano et al. (2017) Neuron, is included in Brainiak
https://brainiak.org/

There is some preprocessed fMRI data (which originally comes from Uri Hasson's laboratory, on Datalad)
http://datasets.datalad.org/?dir=/labs/hasson/narratives  - note this is a link to the original data - not directly required for the current experiments

Experiment 1: Simple-segmentation - This runs the segmenation on reservoir states from reading the NYT and Wikipedia narratives. everything is there.  
The state files from the reservoir are in the repository.  

Experiment 2:  compares 10 reservoirs to 10 subjects on not the fall.
Requires 10 reservoirs â€“ generated by Generate_reservoirs.ipynb, instead of using wiki2vec, we take the embeddings, 
in the file /CH2020_50/inputDataTestingIntact.npy, so need to upload this too, and edit Generate_reservoirs.ipynb/

For the 10 subjects create a mycore cnrs folder: they are in this repository: 
https://mycore.core-cloud.net/index.php/s/CURtzbnV2nkMshy

Experiment 3 on construction and forgetting:
not-the-fall.txt
not-the-fall-shift-2.txt

Experiment 4

Reservoir methods



